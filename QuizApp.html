<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Simple Quiz App</title>
    <style>
      /* ===== Reset & Base Styles ===== */
      :root {
        --bg: #0f1724; /* dark slate */
        --card: #0b1220;
        --accent: #7c3aed;
        --muted: #94a3b8;
        --success: #10b981;
        --danger: #ef4444;
        color-scheme: dark;
        font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI",
          Roboto, "Helvetica Neue", Arial;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        min-height: 100vh;
        background: linear-gradient(180deg, #071126 0%, #061526 60%);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 32px;
        color: #e6eef8;
      }

      .card {
        width: 100%;
        max-width: 720px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.02),
          rgba(255, 255, 255, 0.01)
        );
        border-radius: 16px;
        box-shadow: 0 8px 30px rgba(2, 6, 23, 0.7);
        padding: 24px;
        border: 1px solid rgba(255, 255, 255, 0.03);
      }

      header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 16px;
      }
      header h1 {
        font-size: 20px;
        margin: 0;
      }
      header .meta {
        font-size: 13px;
        color: var(--muted);
      }

      /* Screens */
      .start-screen,
      .quiz-screen,
      .result-screen {
        display: none;
      }
      .start-screen.active,
      .quiz-screen.active,
      .result-screen.active {
        display: block;
      }

      /* Question Box */
      .question-wrap {
        padding: 18px;
        background: rgba(255, 255, 255, 0.02);
        border-radius: 12px;
        margin-bottom: 12px;
      }
      .question {
        font-size: 18px;
        margin: 0 0 12px 0;
      }
      .progress {
        height: 8px;
        background: rgba(255, 255, 255, 0.03);
        border-radius: 999px;
        overflow: hidden;
      }
      .progress > i {
        display: block;
        height: 100%;
        width: 0%;
        background: linear-gradient(90deg, var(--accent), #3b82f6);
      }

      /* Options */
      .options {
        display: grid;
        grid-template-columns: 1fr;
        gap: 10px;
        margin-top: 12px;
      }
      .option {
        background: transparent;
        border: 1px solid rgba(255, 255, 255, 0.04);
        padding: 12px 14px;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.15s;
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .option:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(4, 8, 20, 0.6);
      }
      .option.correct {
        background: linear-gradient(
          90deg,
          rgba(16, 185, 129, 0.12),
          rgba(16, 185, 129, 0.06)
        );
        border-color: rgba(16, 185, 129, 0.25);
      }
      .option.wrong {
        background: linear-gradient(
          90deg,
          rgba(239, 68, 68, 0.09),
          rgba(239, 68, 68, 0.03)
        );
        border-color: rgba(239, 68, 68, 0.25);
      }

      /* Controls */
      .controls {
        display: flex;
        justify-content: space-between;
        gap: 10px;
        margin-top: 16px;
      }
      .btn {
        appearance: none;
        border: 0;
        padding: 10px 14px;
        border-radius: 10px;
        background: var(--accent);
        color: white;
        font-weight: 600;
        cursor: pointer;
      }
      .btn.ghost {
        background: transparent;
        border: 1px solid rgba(255, 255, 255, 0.06);
      }

      /* Result Screen */
      .result-card {
        text-align: center;
        padding: 22px;
      }
      .score {
        font-size: 44px;
        font-weight: 700;
        color: var(--accent);
        margin: 6px 0;
      }

      @media (max-width: 520px) {
        .card {
          padding: 16px;
        }
        .question {
          font-size: 16px;
        }
      }
    </style>
  </head>
  <body>
    <main class="card" role="main">
      <header>
        <h1>Quiz App</h1>
        <div class="meta small">
          Simple JavaScript quiz â€¢ Ready for your logic
        </div>
      </header>

      <!-- Start Screen -->
      <section class="start-screen active" id="startScreen">
        <div style="margin-top: 18px; display: flex; gap: 10px">
          <button class="btn" id="startBtn">Start Quiz</button>
        </div>
      </section>

      <!-- Quiz Screen -->
      <section class="quiz-screen" id="quizScreen" aria-live="polite">
        <div class="question-wrap">
          <div class="small" id="qIndex"></div>
          <h2 class="question" id="questionText"></h2>
          <div class="timer" id="timer">30s</div>
          <div class="progress" aria-hidden="true">
            <i id="progressBar"></i>
          </div>
        </div>
        <div class="options" id="optionsList"></div>
        <div class="controls">
          <div class="small" id="feedback">Select an option to continue</div>
          <div>
            <button class="btn ghost" id="prevBtn">Previous</button>
            <button class="btn" id="nextBtn">Next</button>
          </div>
        </div>
      </section>

      <!-- Result Screen -->
      <section class="result-screen" id="resultScreen">
        <div class="result-card">
          <div class="small">Quiz complete</div>
          <div class="score" id="finalScore"></div>
          <p class="small" id="finalMessage"></p>
          <div
            style="
              margin-top: 14px;
              display: flex;
              gap: 8px;
              justify-content: center;
            "
          >
            <button class="btn" id="restartBtn">Restart</button>
            <button class="btn ghost" id="reviewBtn">Review Answers</button>
          </div>
        </div>
      </section>
    </main>

    <script>
      const questions = [
        {
          q: "What's the capital of France?",
          choices: ["Paris", "London", "Rome", "Berlin"],
          answer: 0,
        },
        { q: "2 + 2 = ?", choices: ["3", "4", "5", "22"], answer: 1 },
        {
          q: "HTML stands for?",
          choices: [
            "Hyper Text Markup Language",
            "Home Tool Markup Language",
            "Hyperlinks Text Mark Language",
            "None",
          ],
          answer: 0,
        },
        {
          q: "Which is not a JS framework?",
          choices: ["React", "Vue", "Laravel", "Svelte"],
          answer: 2,
        },
        {
          q: "Which planet is called Red Planet?",
          choices: ["Earth", "Venus", "Mars", "Jupiter"],
          answer: 2,
        },
      ];

      const startScreen = document.querySelector("#startScreen");
      const startBtn = document.querySelector("#startBtn");
      const quizScreen = document.querySelector("#quizScreen");
      const question = document.querySelector("#questionText");
      const progressBar = document.querySelector("#progressBar");
      const resultScreen = document.querySelector("#resultScreen");
      const optionsList = document.querySelector("#optionsList");
      const prevBtn = document.querySelector("#prevBtn");
      const nextBtn = document.querySelector("#nextBtn");
      const finalScore = document.querySelector("#finalScore");
      const timer = document.querySelector("#timer");
      const restartBtn = document.querySelector("#restartBtn");
      const reviewBtn = document.querySelector("#reviewBtn");
      let score = 0;
      let questionIdx = 0;
      let qIndex = document.querySelector("#qIndex");
      let currentIndex = 0;
      let answer = false;
      let remainingTime;
      let userAnswers = [];
      //showQuizzes
      const showQuiz = () => {
        startScreen.classList.remove("active");
        quizScreen.classList.add("active");
        questionText();
      };
      startBtn.addEventListener("click", showQuiz);
      //render Question
      const questionText = () => {
        question.innerText = questions[questionIdx].q;
        qIndex.textContent = `Question ${currentIndex + 1} of ${
          questions.length
        }`;
        progressBar.style.width = `${
          ((currentIndex + 1) / questions.length) * 100
        }%`;
        showOptions();
        time();
      };
      //showOptions
      const showOptions = () => {
        questions[questionIdx].choices.forEach((choice, i) => {
          const optionButton = document.createElement("button");
          optionButton.textContent = choice;
          optionButton.classList.add("option");
          optionButton.dataset.idx = i;
          optionsList.appendChild(optionButton);
          optionButton.addEventListener("click", checkAnswers);
        });
      };

      //Add Timer

      const time = () => {
        clearInterval(remainingTime);
        let timeLeft = 30;
        timer.innerText = `${timeLeft}`;
        remainingTime = setInterval(() => {
          timeLeft--;
          timer.innerText = `${timeLeft}`;
          if (timeLeft <= 0) {
            clearInterval(remainingTime);
            if (!answer) autoHighlight();
            nextQuestion(true);
          }
        }, 1000);
      };

      //checkAnswers

      const checkAnswers = (e) => {
        const clickedIdx = Number(e.target.dataset.idx);
        Array.from(optionsList.children).forEach(
          (btn) => (btn.disabled = true)
        );
        answer = true;
        userAnswers[questionIdx] = clickedIdx;
        if (clickedIdx === questions[questionIdx].answer) {
          e.target.classList.add("correct");
          score++;
        } else {
          e.target.classList.add("wrong");
          optionsList
            .querySelector(
              `.option[data-idx="${questions[questionIdx].answer}"]`
            )
            .classList.add("correct");
        }
      };
      //next Question
      const nextQuestion = (forced = false) => {
        if (!answer && !forced) return;
        optionsList.innerHTML = "";
        questionIdx++;
        currentIndex++;
        answer = false;
        if (questionIdx === questions.length) {
          quizScreen.classList.remove("active");
          resultScreen.classList.add("active");
          showResult();
          return;
        }
        questionText();
      };

      nextBtn.addEventListener("click", () => nextQuestion(false));
      //prev Question

      const prevQuestion = () => {
        if (questionIdx === 0) return;
        optionsList.innerHTML = "";
        questionIdx--;
        currentIndex--;
        questionText();
        if (userAnswers[questionIdx] !== undefined) {
          answer = true;
          const selected = userAnswers[questionIdx];
          Array.from(optionsList.children).forEach(
            (btn) => (btn.disabled = true)
          );
          optionsList
            .querySelector(
              `.option[data-idx="${questions[questionIdx].answer}"]`
            )
            .classList.add("correct");
          if (selected !== question[questionIdx].answer) {
            optionsList
              .querySelector(`.option[data-idx="${selected}"]`)
              .classList.add("wrong");
          }
        } else {
          answer = false;
        }
      };
      prevBtn.addEventListener("click", prevQuestion);

      //Show Result

      const showResult = () => {
        finalScore.innerText = `${score} / ${questions.length}`;
      };
      const autoHighlight = () => {
        Array.from(optionsList.children).forEach(
          (btn) => (btn.disabled = true)
        );
        optionsList
          .querySelector(`.option[data-idx="${questions[questionIdx].answer}"]`)
          .classList.add("correct");
      };

      //Restart Button

      const restart = () => {
        currentIndex = 0;
        questionIdx = 0;
        score = 0;
        userAnswers = [];
        startScreen.classList.add("active");
        quizScreen.classList.remove("active");
        resultScreen.classList.remove("active");
        optionsList.innerHTML = "";
        clearInterval(remainingTime);
        timer.innerText = "30";
      };
      restartBtn.addEventListener("click", restart);

      //Reviews Answers

      const reviewAnswers = () => {
        prevBtn.style.display = "none";
        nextBtn.style.display = "none";
        timer.style.display = "none";
        quizScreen.innerHTML = "";
        const header = document.createElement("header");
        header.innerHTML = `
    <h1>Quiz Review</h1>
    <div class="meta small">Review your answers</div>
  `;
        quizScreen.appendChild(header);
        const reviewContainer = document.createElement("div");
        reviewContainer.classList.add("review-container");
        questions.forEach((q, idx) => {
          const questionWrap = document.createElement("div");
          questionWrap.classList.add("question-wrap");
          const questionTitle = document.createElement("h2");
          questionTitle.innerText = q.q;
          questionWrap.appendChild(questionTitle);
          const optionsDiv = document.createElement("div");
          optionsDiv.classList.add("options");
          q.choices.forEach((choice, i) => {
            const optionsBtn = document.createElement("button");
            optionsBtn.classList.add("option");
            optionsBtn.innerText = choice;
            optionsBtn.disabled = true;
            if (i === q.answer) optionsBtn.classList.add("correct");
            if (
              userAnswers[idx] !== undefined &&
              i === userAnswers[idx] &&
              i !== q.answer
            )
              optionsBtn.classList.add("wrong");
            optionsDiv.appendChild(optionsBtn);
          });
          questionWrap.appendChild(optionsDiv);
          reviewContainer.appendChild(questionWrap);
        });

        quizScreen.appendChild(reviewContainer);
        startScreen.classList.remove("active");
        resultScreen.classList.remove("active");
        quizScreen.classList.add("active");
      };

      reviewBtn.addEventListener("click", reviewAnswers);
    </script>
  </body>
</html>
